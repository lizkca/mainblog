
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta property="og:title" content="New Configuration File" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="configuration-file-v2.html" />
  <meta property="og:site_name" content="Read the Docs Blog" />
  <meta property="og:description" content="We are happy to announce the new version of the Read the Docs configuration file(v2). version: 2 python: version: 3.7 install: - requirements: docs/requirements.txt sphinx: configuration: docs/conf..." />
  <meta property="og:image" content="https://blog.readthedocs.com/_static/logo-opengraph.png" />
  <meta property="og:image:alt" content="Read the Docs Blog" />
  <meta name="twitter:card" content="summary_large_image" />
    <title>New Configuration File &#8212; Read the Docs Blog</title>
    <link rel="stylesheet" href="../_static/main.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
  
  <link href='//fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css' />
  <link href='//fonts.googleapis.com/css?family=Puritan:400,400italic,700,700italic' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" href="../_static/local.css" type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script defer data-domain="blog.readthedocs.com" src="https://plausible.io/js/plausible.js"></script>

  
  <link rel="alternate" type="application/atom+xml"  href="../archive/atom.xml" title="Read the Docs Blog">
  
  
  <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
    ul.postlist a {font-style: italic;}
    ul.postlist-style-disc {list-style-type: disc;}
    ul.postlist-style-none {list-style-type: none;}
    ul.postlist-style-circle {list-style-type: circle;}
  </style>

  </head><body>
  <!-- BEGIN header -->
  <div id="header">
    <div class="row">
      <div class="logo">
        <h1><a href="../">
            <img src="../_static/logo.png" height="48" />
            Read the Docs Blog
        </a></h1>
      </div>
      <div class="nav">
        <ul>
          <li><a href="https://readthedocs.com">Back to site</a></li>
          <li><a href="mailto:hello@readthedocs.com">Contact&nbsp;Us</a></li>
        </ul>
      </div>
    </div>
  </div>
  <!-- END header -->

  <div id="content">
    <div class="wrapper">

      <div class="col-major content">
          
  <div class="section" id="new-configuration-file">
<h1>New Configuration File<a class="headerlink" href="#new-configuration-file" title="Permalink to this headline">¶</a></h1>
<p>We are happy to announce the new version of the <a class="reference external" href="https://docs.readthedocs.org/en/latest/config-file/v2">Read the Docs configuration file</a> (v2).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">python</span><span class="p">:</span>
  <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.7</span>
  <span class="nt">install</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">requirements</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs/requirements.txt</span>
<span class="nt">sphinx</span><span class="p">:</span>
  <span class="nt">configuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs/conf.py</span>
<span class="nt">formats</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">all</span>
</pre></div>
</div>
<p>If you are a recurrent Read the Docs user,
chances are that you’ve configured your projects using a <cite>.readthedocs.yml</cite> file.</p>
<p>Using the web interface is quick,
but the main advantages of using a configuration file over the web interface are:</p>
<ul class="simple">
<li>Some settings are only available using a configuration file.
We are moving away from using the web interface.</li>
<li>The settings are per version rather than per project.
This would allow different versions of docs to be built with different versions of Python
or different requirements.</li>
<li>The settings live in your VCS.</li>
<li>Reproducible build environments over time.</li>
</ul>
<div class="section" id="what-did-we-change-in-the-new-version">
<h2>What did we change in the new version?<a class="headerlink" href="#what-did-we-change-in-the-new-version" title="Permalink to this headline">¶</a></h2>
<p><strong>All the configurations from the web interface</strong>.
In the past not all options from the web interface were available in the configuration file,
now they are!
We also reorganized and renamed some options to make them more clear.</p>
<p><strong>New defaults</strong>,
we don’t merge the values from the web interface,
because this was confusing our users.
This also allows us to change defaults without breaking existing projects.</p>
<p><strong>More flexible installations</strong>,
users can install their projects in a more flexible way,
like multiple requirements and packages from different locations.</p>
<p><strong>Strict validation</strong> for invalid options in the configuration file,
to avoid typos and provide more feedback on invalid configurations.</p>
</div>
<div class="section" id="new-features">
<h2>New features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>MkDocs support (previously it was only supported from the web interface).</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">mkdocs</span><span class="p">:</span>
  <span class="nt">configuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">mkdocs.yml</span>
  <span class="nt">fail_on_warning</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<ul class="simple">
<li>More control over Sphinx.</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">sphinx</span><span class="p">:</span>
   <span class="nt">builder</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">html</span>
   <span class="nt">configuration</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs/source/conf.py</span>
   <span class="nt">fail_on_warning</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<ul class="simple">
<li>Control over submodules, we don’t always need them all to build our docs.</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">submodules</span><span class="p">:</span>
  <span class="nt">include</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">third-party/dependency</span>
  <span class="nt">recursive</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<ul class="simple">
<li>Support for multiple packages/requirements installations.</li>
</ul>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">python</span><span class="p">:</span>
  <span class="nt">version</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">3.7</span>
  <span class="nt">install</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">requirements</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">docs/requirements.txt</span>
    <span class="p p-Indicator">-</span> <span class="nt">requirements</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">requirements.txt</span>
    <span class="p p-Indicator">-</span> <span class="nt">method</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">pip</span>
      <span class="nt">path</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">package</span>
</pre></div>
</div>
</div>
<div class="section" id="future-improvements">
<h2>Future improvements<a class="headerlink" href="#future-improvements" title="Permalink to this headline">¶</a></h2>
<p>We are already planning new features to support more projects and use cases.</p>
<p><strong>Pipfile support</strong>, this is one of our more requested features,
and we are going to ship it soon.
Keep an eye in <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues/3181">#3181</a>.</p>
<p><strong>Show the configuration used in each build</strong>.
We want to make more explicit to the users how we are building their docs.</p>
<p><strong>Redirects per version</strong> of your docs.
Currently users can define global redirects only from the web interface,
this is hard to maintain and review.
One use case is when you change your docs structure between versions.
Keep track of this upcoming feature in <a class="reference external" href="https://github.com/rtfd/readthedocs.org/issues/4221">#4221</a>.</p>
</div>
<div class="section" id="start-using-it">
<h2>Start using it<a class="headerlink" href="#start-using-it" title="Permalink to this headline">¶</a></h2>
<p>The full docs about the new version are available <a class="reference external" href="http://docs.readthedocs.org/en/latest/config-file/v2">here</a>.</p>
<p>If you are using the v1, you can update to v2 following our <a class="reference external" href="http://docs.readthedocs.org/en/latest/config-file/v2#migrating-from-v1">migration docs</a>.</p>
<p>If you have a problem using the configuration file, feel free to <a class="reference external" href="http://github.com/rtfd/readthedocs.org/issues">file an issue</a>.</p>
</div>
<div class="section" id="summer-internship">
<h2>Summer internship<a class="headerlink" href="#summer-internship" title="Permalink to this headline">¶</a></h2>
<p>This project was part of my summer internship in Read the Docs,
it was held at the same time as the Google Summer of Code (GSoC) project.</p>
<p>Thanks to the <a class="reference external" href="https://docs.readthedocs.io/en/latest/team.html#development-team">core team</a> (Anthony, David, Eric, and Manuel) for helping me in the process.
Thanks to all contributors, sponsors, donors and users of Read the Docs to make the project sustainable.</p>
</div>
</div>

  <div class="section">
  
    
  
  
  </div>

      </div>

      <div class="col-minor sidebar">
  
  
  <ul class="post-details">
    <li>
      
        <i class="fa-fw fa fa-calendar"></i>
        20 二月 2019
      
    </li>

      

  
  <li id="author"><span><i class="fa-fw fa fa-user"></i></span>
    
      
      <a href="../archive/author/santos-gallegos/">Santos Gallegos</a>
      
    </li>
  

  
  <li id="location"><span><i class="fa-fw fa fa-location-arrow"></i></span>
    
      
      <a href="../archive/location/cuenca-ecuador/">Cuenca, Ecuador</a>
      
    </li>
  

  

  

  
  <li id="tags"><span><i class="fa-fw fa fa-tag"></i></span>
    
      
      <a href="../archive/tag/feature/">feature</a>
      
    </li>
  
  
  </ul>



<!-- Begin MailerLite Signup Form -->
  <div id="mlb2-4710274" class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-4710274">
    <div class="ml-form-align-center">
      <div class="ml-form-embedWrapper embedForm">
        <div class="ml-form-embedBody ml-form-embedBodyDefault row-form">
          <div class="ml-form-embedContent">
            <h3 style="margin-left: 0">Subscribe to our mailing list</h3>
            <p>Sign up for our blog and we'll send you news and updates about Sphinx and Read the Docs on a regular basis.</p>
          </div>
          <form class="ml-block-form" action="https://static.mailerlite.com/webforms/submit/p8b7z2" data-code="p8b7z2" method="post" target="_blank">
            <div class="ml-form-formContent">
              <div class="ml-form-fieldRow ml-last-item">
                <div class="ml-field-group ml-field-email ml-validate-email ml-validate-required">
                  <input aria-label="email" aria-required="true" type="email" class="form-control" data-inputmask="" name="fields[email]" placeholder="email address" autocomplete="email" style="width: 90%">
                </div>
              </div>
            </div>
            <div class="ml-form-embedPermissions">
              <div class="ml-form-embedPermissionsContent default privacy-policy">
                <p style="margin-bottom: 0; font-size: 0.8em">You can unsubscribe anytime. For more details, review our <a href="https://docs.readthedocs.io/page/privacy-policy.html" target="_blank">Privacy Policy</a>.</p>
              </div>
            </div>
            <input type="hidden" name="ml-submit" value="1">
            <div class="ml-form-embedSubmit">
              <button type="submit" class="primary">Subscribe</button>
              <button disabled="disabled" style="display:none" type="button" class="loading"> <div class="ml-form-embedSubmitLoad"></div> <span class="sr-only">Loading...</span> </button>
            </div>
            <input type="hidden" name="anticsrf" value="true">
          </form>
        </div>
        <div class="ml-form-successBody row-success" style="display:none">
          <div class="ml-form-successContent">
            <h4>Thank you!</h4>
            <p>You have successfully joined our subscriber list.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    function ml_webform_success_4710274(){var r=ml_jQuery||jQuery;r(".ml-subscribe-form-4710274 .row-success").show(),r(".ml-subscribe-form-4710274 .row-form").hide()}
  </script>
  <img src="https://track.mailerlite.com/webforms/o/4710274/p8b7z2?v1632123501" width="1" height="1" style="max-width:1px;max-height:1px;visibility:hidden;padding:0;margin:0;display:block" alt="." border="0">
  <script src="https://static.mailerlite.com/js/w/webforms.min.js?v0c75f831c56857441820dcec3163967c" type="text/javascript"></script>
<!--End mc_embed_signup-->


<!-- Jobs 
<h3> Read the Docs is hiring </h3>
<ul>
    <li><a href="https://blog.readthedocs.com/job-frontend/">Front-end Developer</a></li>
</ul>
-->

<h3> Follow us </h3>

<ul>
<li>
<a href="http://blog.readthedocs.com/archive/atom.xml" rel="me">Atom Feed</a>
</li>
<li>
<a href="https://twitter.com/readthedocs" rel="me">Twitter</a>
</li>
</ul>

  <h3><a href="../archive/">Recent Posts</a></h3>
  <ul>
    
    
      <li><a href="../newsletter2-october-2021/">07 十月 - todo and plan - October 2021</a></li>
    
      <li><a href="../newsletter-october-2021/">07 十月 - Read the Docs newsletter - October 2021</a></li>
    
      <li><a href="../newsletter-september-2021/">02 九月 - Read the Docs newsletter - September 2021</a></li>
    
      <li><a href="../theme-release-100rc1/">23 八月 - Theme release 1.0.0rc1</a></li>
    
      <li><a href="../newsletter-august-2021/">09 八月 - Read the Docs newsletter - August 2021</a></li>
    
  </ul>

  <h3><a href="../archive/archive/">Archives</a></h3>
  <ul>
  
    
    <li><a href="../archive/2021/">2021 (18)</a></li>
    
  
    
    <li><a href="../archive/2020/">2020 (6)</a></li>
    
  
    
    <li><a href="../archive/2019/">2019 (15)</a></li>
    
  
    
    <li><a href="../archive/2018/">2018 (13)</a></li>
    
  
    
    <li><a href="../archive/2017/">2017 (7)</a></li>
    
  
    
    <li><a href="../archive/2016/">2016 (5)</a></li>
    
  
    
    <li><a href="../archive/2015/">2015 (9)</a></li>
    
  
    
    <li><a href="../archive/2014/">2014 (4)</a></li>
    
  
    
    <li><a href="../archive/2013/">2013 (2)</a></li>
    
  
  </ul>

        
      </div>
    </div>
  </div>
  <div id="footer">
    <div class="row">
      <div class="col fill">
        <ul>
            <li>
                &copy; Copyright 2021, Read the Docs, Inc.
            </li>

          <li>
            Powered by <a href="http://ablog.readthedocs.org">ABlog</a>, and <a href="http://readthedocs.org/">Read the Docs</a>.
          </li>
            <li>
              Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
            </li>
        </ul>
      </div>
    </div>
  </div>
  </body>
</html>